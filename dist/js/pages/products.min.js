$(document).ready(function(){$.display.page.products={load:function(){$.display.toggleLoadingScreen($.etsyDB.products.getAll($.display.page.products.drawProducts))},drawProducts:function(i){var l="";$.each(i,function(i,d){var a=t;a.removeClass("template");var n=a.find(".listing-url");n.attr("href","http://www.etsy.com/listing/"+d.listing_id),n.attr("title",d.title),n.html(d.title),-1==d.bin_id?(a.find(".bin-id").html("-1"),a.find(".bin-name").html('<i class="mdi-content-clear"></i>')):(a.find(".bin-id").html(d.bin_id),a.find(".bin-name").html(d.bin_name)),a.find(".price").html(d.price),a.find(".created").html(moment(d.created).format("MMM D, h:mm a")),a.find(".original-created").html(moment(d.original_creation).format("MMM D, h:mm a"));var o=a.find(".all-product-actions");o.find(".btn-floating").attr({"all-product-id":d.id.toString(),"all-product-title":d.title,"all-product-bin-id":d.bin_id}),l+='<tr id="all-product-row-'+d.id+'">'+a.html()+"</tr>"});var d=document.getElementById("productTableBody");d.innerHTML=l},drawBinList:function(t){var i="",l=$("#allProductsBinID").html();$.each(t,function(t,d){i+=l==d.id?'<a href="#!" class="collection-item all-product-bin-list-item active" all-product-bin-id="'+d.id+'">':'<a href="#!" class="collection-item all-product-bin-list-item" all-product-bin-id="'+d.id+'">',i+=d.name+" ("+d.total+" Products)</a>"});var d=document.getElementById("allProductBinList");d.innerHTML=i},updateProductBin:function(t,i,l){var d=$("#all-product-row-"+t);d.find(".bin-name").html(l),d.find(".bin-id").html(i),d.find(".all-product-actions").find(".btn-floating").attr({"all-product-bin-id":i})},removeProduct:function(t){$("#all-product-row-"+t).fadeOut("slow",function(){$(this).remove()})}};var t=$("#allProductTemplate").clone();$("#allProductTemplate").remove();$("#allProductBinTemplate");$("#allProductBinTemplate").remove(),$("body").on("click",".btn-new-product-sold",function(){}),$("body").on("click",".all-product-bin-list-item",function(){$(".all-product-bin-list-item").removeClass("active"),$(this).addClass("active")}),$("#reloadProducts").on("click",function(){$.display.page.products.load()}),$("body").on("click",".btn-all-product-change-bin",function(){$("#allProductBinList").attr("all-product-id",$(this).attr("all-product-id")),$("#allProductBinTitle").html($(this).attr("all-product-title"));var t=$("#all-product-row-"+$(this).attr("all-product-id")).find(".bin-id").html();if($("#allProductsBinID").html(t),-1==t)$("#allProductBinName").html("None");else{var i=$("#all-product-row-"+$(this).attr("all-product-id")).find(".bin-name").html();$("#allProductBinName").html(i)}$.etsyDB.bins.getAll($.display.page.products.drawBinList),$("#modalAllProductBin").openModal()}),$("#updateAllProductBin").on("click",function(){var t=$("#allProductBinList").attr("all-product-id"),i=$("#allProductBinList .active").attr("all-product-bin-id");$.etsyDB.products.setBin(t,i,$.display.page.products.updateProductBin),$("#modalAllProductBin").closeModal()})});
//# sourceMappingURL=../sourcemaps/pages/products.min.js.map