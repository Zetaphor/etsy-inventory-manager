$(document).ready(function(){$.display.page.products={load:function(){$.display.toggleLoadingScreen($.etsyDB.products.getAll($.display.page.products.drawProducts))},drawProducts:function(i){var l="";$.each(i,function(i,a){var d=t;d.removeClass("template");var n=d.find(".listing-url");n.attr("href","http://www.etsy.com/listing/"+a.listing_id),n.attr("title",a.title),n.html(a.title),-1==a.bin_id?(d.find(".bin-id").html("-1"),d.find(".bin-name").html('<i class="mdi-content-clear"></i>')):(d.find(".bin-id").html(a.bin_id),d.find(".bin-name").html(a.bin_name)),d.find(".price").html(a.price),d.find(".created").html(moment(a.created).format("MMM D, h:mm a")),d.find(".original-created").html(moment(a.original_creation).format("MMM D, h:mm a"));var o=d.find(".all-product-actions");o.find(".btn-floating").attr({"all-product-id":a.id.toString(),"all-product-title":a.title,"all-product-bin-id":a.bin_id}),l+='<tr id="all-product-row-'+a.id+'">'+d.html()+"</tr>"});var a=document.getElementById("productTableBody");a.innerHTML=l},drawBinList:function(t){var i="",l=$("#allProductsBinID").html();$.each(t,function(t,a){i+=l==a.id?'<a href="#!" class="collection-item all-product-bin-list-item active" all-product-bin-id="'+a.id+'">':'<a href="#!" class="collection-item all-product-bin-list-item" all-product-bin-id="'+a.id+'">',i+=a.name+" ("+a.total+" Products)</a>"});var a=document.getElementById("allProductBinList");a.innerHTML=i},updateProductBin:function(t,i,l){var a=$("#all-product-row-"+t);a.find(".bin-name").html(l),a.find(".bin-id").html(i),a.find(".all-product-actions").find(".btn-floating").attr({"all-product-bin-id":i})}};var t=$("#allProductTemplate").clone();$("#allProductTemplate").remove();$("#allProductBinTemplate");$("#allProductBinTemplate").remove(),$("body").on("click",".all-product-bin-list-item",function(){$(".all-product-bin-list-item").removeClass("active"),$(this).addClass("active")}),$("#reloadProducts").on("click",function(){$.display.page.products.load()}),$("body").on("click",".btn-all-product-change-bin",function(){$("#allProductBinList").attr("all-product-id",$(this).attr("all-product-id")),$("#allProductBinTitle").html($(this).attr("all-product-title"));var t=$("#all-product-row-"+$(this).attr("all-product-id")).find(".bin-id").html();if($("#allProductsBinID").html(t),-1==t)$("#allProductBinName").html("None");else{var i=$("#all-product-row-"+$(this).attr("all-product-id")).find(".bin-name").html();$("#allProductBinName").html(i)}$.etsyDB.bins.getAll($.display.page.products.drawBinList),$("#modalAllProductBin").openModal()}),$("#updateAllProductBin").on("click",function(){var t=parseInt($("#allProductBinList").attr("all-product-id")),i=parseInt($("#allProductBinList .active").attr("all-product-bin-id"));$.etsyDB.products.setBin(t,i,$.display.page.products.updateProductBin),$("#modalAllProductBin").closeModal()})});
//# sourceMappingURL=../_sourcemaps/pages/products.min.js.map