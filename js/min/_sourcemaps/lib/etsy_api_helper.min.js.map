{"version":3,"sources":["lib/etsy_api_helper.js"],"names":["$","document","ready","etsyAPIHelper","getRecentListings","etsyAPI","getListings","updateRecentListings","recentResultsLimit","getAllListings","updateAllListings","resultLimit","listings","each","results","index","listing","etsyDB","products","add","display","updateCounts","updateLastUpdateText","Materialize","toast","hide","pagination","next_offset"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,WACdF,EAAEG,eACEC,kBAAmB,WACfJ,EAAEK,QAAQC,YAAYN,EAAEG,cAAcI,qBAAsB,EAAGP,EAAEK,QAAQG,qBAG7EC,eAAgB,WACZT,EAAEK,QAAQC,YAAYN,EAAEG,cAAcO,kBAAmB,EAAGV,EAAEK,QAAQM,cAG1EJ,qBAAsB,SAASK,GAC3BZ,EAAEa,KAAKD,EAASE,QAAS,SAASC,EAAOC,GACrChB,EAAEiB,OAAOC,SAASC,IAAIH,KAG1BhB,EAAEoB,QAAQC,eACVrB,EAAEoB,QAAQE,uBACVC,YAAYC,MAAM,uCAAwC,KAC1DxB,EAAE,aAAayB,QAGnBf,kBAAmB,SAASE,GACxBZ,EAAEa,KAAKD,EAASE,QAAS,SAASC,EAAOC,GACrChB,EAAEiB,OAAOC,SAASC,IAAIH,KAGc,OAApCJ,EAASc,WAAWC,YACpB3B,EAAEK,QAAQC,YAAYN,EAAEG,cAAcO,kBAAmBE,EAASc,WAAWC,YAAa3B,EAAEK,QAAQM,cAGpGX,EAAEoB,QAAQC,eACVrB,EAAEoB,QAAQE,uBACVC,YAAYC,MAAM,mCAAoC,KACtDxB,EAAE,aAAayB","file":"lib/etsy_api_helper.min.js","sourcesContent":["$(document).ready(function() {\n    $.etsyAPIHelper = {\n        getRecentListings: function() {\n            $.etsyAPI.getListings($.etsyAPIHelper.updateRecentListings, 0, $.etsyAPI.recentResultsLimit);\n        },\n\n        getAllListings: function() {\n            $.etsyAPI.getListings($.etsyAPIHelper.updateAllListings, 0, $.etsyAPI.resultLimit);\n        },\n\n        updateRecentListings: function(listings) {\n            $.each(listings.results, function(index, listing) {\n                $.etsyDB.products.add(listing);\n            });\n            //console.log('Updated recent listings');\n            $.display.updateCounts();\n            $.display.updateLastUpdateText();\n            Materialize.toast('Successfully updated recent listings', 4000);\n            $('#syncIcon').hide();\n        },\n\n        updateAllListings: function(listings) {\n            $.each(listings.results, function(index, listing) {\n                $.etsyDB.products.add(listing);\n            });\n\n            if (listings.pagination.next_offset !== null) {\n                $.etsyAPI.getListings($.etsyAPIHelper.updateAllListings, listings.pagination.next_offset, $.etsyAPI.resultLimit);\n            } else {\n                //console.log('Updated all listings');\n                $.display.updateCounts();\n                $.display.updateLastUpdateText();\n                Materialize.toast('Succesfully updated all listings', 4000);\n                $('#syncIcon').hide();\n            }\n        }\n    };\n});"],"sourceRoot":"/source/"}