{"version":3,"sources":["main.js"],"names":["$","document","ready","dropdown","tooltip","delay","leanModal","not","hide","css","left","settings","lastRefresh","saveSettings","localStorage","setItem","JSON","stringify","loadSettings","display","updateLastUpdateText","getItem","parse","etsyDB","init","inventory","newProducts","totalBins","totalProducts","window","unload","save","db","on","page","dashboard","load","e","preventDefault","this","parent","removeClass","addClass","attr","toggleLoadingScreen","switchPage","Materialize","toast","show","html","etsyAPIHelper","getRecentListings","getAllListings"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,WACdF,EAAE,oBAAoBG,WACtBH,EAAE,eAAeI,SAASC,MAAO,KACjCL,EAAE,kBAAkBM,YAEpBN,EAAE,SAASO,IAAI,kBAAkBC,OAAOC,KAAKC,KAAM,WAEnDV,EAAEW,UACEC,YAAa,SAGjBZ,EAAEa,aAAe,WACbC,aAAaC,QAAQ,WAAYC,KAAKC,UAAUjB,EAAEW,YAItDX,EAAEkB,aAAe,WACblB,EAAEmB,QAAQC,qBAAqBpB,EAAEW,SAASC,cAGL,OAArCE,aAAaO,QAAQ,aACrBP,aAAaC,QAAQ,WAAYC,KAAKC,UAAUjB,EAAEW,WAClDX,EAAEkB,iBAEFlB,EAAEW,SAAWK,KAAKM,MAAMR,aAAaO,QAAQ,aAC7CrB,EAAEkB,gBAGNlB,EAAEuB,OAAOC,OAETxB,EAAEyB,WACEC,YAAa,EACbC,UAAW,EACXC,cAAe,GAGnB5B,EAAE6B,QAAQC,OAAO,WACb9B,EAAEW,SAASoB,SAGf/B,EAAEgC,GAAGC,GAAG,QAAS,WACbjC,EAAEmB,QAAQe,KAAKC,UAAUC,SAU7BpC,EAAE,aAAaiC,GAAG,QAAS,SAASI,GAChCA,EAAEC,iBACFtC,EAAE,aAAaO,IAAIP,EAAEuC,OAAOC,SAASC,YAAY,UACjDzC,EAAEuC,MAAMC,SAASE,SAAS,SAC1B,IAAIR,GAAOlC,EAAEuC,MAAMI,KAAK,OACxB3C,GAAEmB,QAAQyB,sBACV5C,EAAEmB,QAAQ0B,WAAWX,KAGzBlC,EAAE,kBAAkBiC,GAAG,QAAS,WAC5Ba,YAAYC,MAAM,gCAAiC,KACnD/C,EAAE,aAAagD,OACfhD,EAAE,oBAAoBiD,KAAK,8BAC3BjD,EAAEkD,cAAcC,sBAGpBnD,EAAE,eAAeiC,GAAG,QAAS,WACzBa,YAAYC,MAAM,6BAA8B,KAChD/C,EAAE,aAAagD,OACfhD,EAAE,oBAAoBiD,KAAK,2BAC3BjD,EAAEkD,cAAcE","file":"main.min.js","sourcesContent":["$(document).ready(function() {\n    $(\".dropdown-button\").dropdown();\n    $('.tooltipped').tooltip({delay: 50});\n    $('.modal-trigger').leanModal();\n\n    $('.page').not('#pageDashboard').hide().css({left: '-200vw'});\n\n    $.settings = {\n        lastRefresh: 'Never'\n    };\n\n    $.saveSettings = function() {\n        localStorage.setItem('settings', JSON.stringify($.settings));\n        //console.log('Saved settings');\n    };\n\n    $.loadSettings = function() {\n        $.display.updateLastUpdateText($.settings.lastRefresh);\n    };\n\n    if (localStorage.getItem('settings') === null) {\n        localStorage.setItem('settings', JSON.stringify($.settings));\n        $.loadSettings();\n    } else {\n        $.settings = JSON.parse(localStorage.getItem('settings'));\n        $.loadSettings();\n    }\n\n    $.etsyDB.init();\n\n    $.inventory = {\n        newProducts: 0,\n        totalBins: 0,\n        totalProducts: 0\n    };\n\n    $(window).unload(function() {\n        $.settings.save();\n    });\n\n    $.db.on('ready', function () {\n        $.display.page.dashboard.load();\n        //$.etsyDB.deleteDB();\n        //$.etsyDB.listTables();\n\n        //$.etsyDB.export().then(function (dbObj) {\n        //    var json = JSON.stringify(dbObj);\n        //    alert (json);\n        //});\n    });\n\n    $('.nav-link').on('click', function(e) {\n        e.preventDefault();\n        $('.nav-link').not($(this)).parent().removeClass('active');\n        $(this).parent().addClass('active');\n        var page = $(this).attr('href');\n        $.display.toggleLoadingScreen();\n        $.display.switchPage(page);\n    });\n\n    $('#refreshRecent').on('click', function() {\n        Materialize.toast('Refreshing recent listings...', 4000);\n        $('#syncIcon').show();\n        $('#lastUpdatedText').html('Refreshing Recent Listings');\n        $.etsyAPIHelper.getRecentListings();\n    });\n\n    $('#refreshAll').on('click', function() {\n        Materialize.toast('Refreshing all listings...', 4000);\n        $('#syncIcon').show();\n        $('#lastUpdatedText').html('Refreshing All Listings');\n        $.etsyAPIHelper.getAllListings();\n    });\n});"],"sourceRoot":"/source/"}