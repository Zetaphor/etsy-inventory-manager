{"version":3,"sources":["etsy_api.js"],"names":["$","document","ready","etsy","apiURL","apiKey","recentResultsLimit","resultLimit","storeName","listingParams","fields","buildURL","resource","offset","limit","requestURL","paramString","each","key","val","toString","getListings","callback","ajax","url","dataType","success","data","ok","count","console","log","error"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,WACdF,EAAEG,QACFH,EAAEG,KAAKC,OAAS,+BAChBJ,EAAEG,KAAKE,OAAS,2BAChBL,EAAEG,KAAKG,mBAAqB,GAC5BN,EAAEG,KAAKI,YAAc,IACrBP,EAAEG,KAAKK,UAAY,sBACnBR,EAAEG,KAAKM,eACHC,QACI,aACA,QACA,gBACA,cACA,QACA,WACA,QACA,QACA,cACA,eACA,0BAKRV,EAAEG,KAAKQ,SAAW,SAASC,EAAUC,EAAQC,GACzCA,EAAyB,mBAAVA,GAAwBA,EAAQd,EAAEG,KAAKI,YACtDM,EAA2B,mBAAXA,GAAyBA,EAAS,CAClD,IAAIE,GAAaf,EAAEG,KAAKC,OAASQ,EAAW,YAAcZ,EAAEG,KAAKE,OAAS,WAAkBQ,EAAS,UAAiBC,EAAQ,IAC1HE,EAAc,EAIlB,OAHAhB,GAAEiB,KAAKjB,EAAEG,KAAKM,cAAe,SAASS,EAAKC,GACvCH,GAAeE,EAAM,IAAMC,EAAIC,WAAa,MAEzCL,EAAaC,GAGxBhB,EAAEG,KAAKkB,YAAc,SAASC,EAAUT,EAAQC,GAC5CD,EAA2B,mBAAXA,GAAyBA,EAAS,EAClDC,EAAyB,mBAAVA,GAAwBA,EAAQd,EAAEG,KAAKI,WACtD,IAAIQ,GAAaf,EAAEG,KAAKQ,SAAS,SAAWX,EAAEG,KAAKK,UAAY,sBAAuBK,EAAQC,EAC9Fd,GAAEuB,MACEC,IAAKT,EACLU,SAAU,QACVC,QAAS,SAASC,GACVA,EAAKC,GACeN,EAAhBK,EAAKE,MAAQ,EAAYF,OAG7BG,QAAQC,IAAI,cAAgBJ,EAAKK,OACjCV","file":"etsy_api.min.js","sourcesContent":["$(document).ready(function() {\n    $.etsy = {};\n    $.etsy.apiURL = \"https://openapi.etsy.com/v2/\";\n    $.etsy.apiKey = \"tpgge44ziiwldztbd8hx7b1r\";\n    $.etsy.recentResultsLimit = 20;\n    $.etsy.resultLimit = 100;\n    $.etsy.storeName = 'JessicaAnnsEmporium';\n    $.etsy.listingParams = {\n        fields: [\n            'listing_id',\n            'title',\n            'category_path',\n            'category_id',\n            'price',\n            'quantity',\n            'style',\n            'state',\n            'taxonomy_id',\n            'creation_tsz',\n            'original_creation_tsz'\n        ]\n    };\n\n    // https://www.etsy.com/developers/documentation/reference/listing#method_getlisting\n    $.etsy.buildURL = function(resource, offset, limit) {\n        limit = typeof limit !== 'undefined' ? limit : $.etsy.resultLimit;\n        offset = typeof offset !== 'undefined' ? offset : 0;\n        var requestURL = $.etsy.apiURL + resource + '?api_key=' + $.etsy.apiKey + '&' + 'offset=' + offset + '&' + 'limit=' + limit + '&';\n        var paramString = '';\n        $.each($.etsy.listingParams, function(key, val) {\n            paramString += key + '=' + val.toString() + '&';\n        });\n        return requestURL + paramString;\n    };\n\n    $.etsy.getListings = function(callback, offset, limit) {\n        offset = typeof offset !== 'undefined' ? offset : 0;\n        limit = typeof limit !== 'undefined' ? limit : $.etsy.resultLimit;\n        var requestURL = $.etsy.buildURL('shops/' + $.etsy.storeName + '/listings/active.js', offset, limit);\n        $.ajax({\n            url: requestURL,\n            dataType: 'jsonp',\n            success: function(data) {\n                if (data.ok) {\n                    if (data.count > 0) callback(data);\n                    else callback([]);\n                } else {\n                    console.log(\"API Error: \" + data.error);\n                    callback([]);\n                }\n            }\n        });\n    };\n});\n"],"sourceRoot":"/source/"}