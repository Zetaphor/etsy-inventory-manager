{"version":3,"sources":["listings.js"],"names":["$","document","ready","etsyAPI","refreshRecentListings","listings","each","results","index","listing","etsyDB","products","add","display","updateCounts","updateLastUpdateText","Materialize","toast","hide","refreshAllListings","pagination","next_offset","etsy","getListings","resultLimit"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,WACdF,EAAEG,SACEC,sBAAuB,SAASC,GAC5BL,EAAEM,KAAKD,EAASE,QAAS,SAASC,EAAOC,GACrCT,EAAEU,OAAOC,SAASC,IAAIH,KAG1BT,EAAEa,QAAQC,eACVd,EAAEa,QAAQE,uBACVC,YAAYC,MAAM,uCAAwC,KAC1DjB,EAAE,aAAakB,QAGnBC,mBAAoB,SAASd,GACzBL,EAAEM,KAAKD,EAASE,QAAS,SAASC,EAAOC,GACrCT,EAAEU,OAAOC,SAASC,IAAIH,KAGc,OAApCJ,EAASe,WAAWC,YACpBrB,EAAEsB,KAAKC,YAAYvB,EAAEsB,KAAKH,mBAAoBd,EAASe,WAAWC,YAAarB,EAAEsB,KAAKE,cAGtFxB,EAAEa,QAAQC,eACVd,EAAEa,QAAQE,uBACVC,YAAYC,MAAM,mCAAoC,KACtDjB,EAAE,aAAakB","file":"listings.min.js","sourcesContent":["$(document).ready(function() {\n    $.etsyAPI = {\n        refreshRecentListings: function(listings) {\n            $.each(listings.results, function(index, listing) {\n                $.etsyDB.products.add(listing);\n            });\n            //console.log('Updated recent listings');\n            $.display.updateCounts();\n            $.display.updateLastUpdateText();\n            Materialize.toast('Successfully updated recent listings', 4000);\n            $('#syncIcon').hide();\n        },\n\n        refreshAllListings: function(listings) {\n            $.each(listings.results, function(index, listing) {\n                $.etsyDB.products.add(listing);\n            });\n\n            if (listings.pagination.next_offset !== null) {\n                $.etsy.getListings($.etsy.refreshAllListings, listings.pagination.next_offset, $.etsy.resultLimit);\n            } else {\n                //console.log('Updated all listings');\n                $.display.updateCounts();\n                $.display.updateLastUpdateText();\n                Materialize.toast('Succesfully updated all listings', 4000);\n                $('#syncIcon').hide();\n            }\n        }\n    };\n});"],"sourceRoot":"/source/"}