{"version":3,"sources":["pages/bins.js"],"names":["$","document","ready","display","page","bins","binTemplate","clone","remove","load","toggleLoadingScreen","etsyDB","getAll","drawBins","appendString","each","key","val","bin","removeClass","find","html","id","name","total","notes","bin_actions","attr","bin-id","toString","bin-name","bin-total","binsTableBody","getElementById","innerHTML","on","bin_name","bin_notes","Materialize","toast","closeModal","add","console","log","this","getQRCode","openModal","parseInt","fadeIn","fadeOut","printWindow","window","open","windowContent","body","title","css","position","left","transform","width","textAlign","top","fontSize","fontWeight","wordWrap","print"],"mappings":"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","file":"pages/bins.min.js","sourcesContent":["$(document).ready(function() {\n    $.display.page.bins = {};\n\n    var binTemplate = $('#binTemplate').clone();\n    $('#binTemplate').remove();\n\n    $.display.page.bins.load = function() {\n        $.display.toggleLoadingScreen($.etsyDB.bins.getAll($.display.page.bins.drawBins));\n    };\n\n    $.display.page.bins.drawBins = function(bins) {\n        var appendString = '';\n        $.each(bins, function(key, val) {\n            var bin = binTemplate;\n            bin.removeClass('template');\n            bin.find('.bin-id').html(val.id);\n            bin.find('.bin-name').html(val.name);\n            bin.find('.bin-total').html(val.total);\n            bin.find('.bin-notes').html(val.notes);\n\n            var bin_actions = bin.find('.bin-actions');\n            bin_actions.find('.btn-floating').attr({\n                \"bin-id\": val.id.toString(),\n                \"bin-name\": val.name,\n                \"bin-total\": val.total\n            });\n\n            appendString += ('<tr>' + bin.html() + '</tr>');\n        });\n\n        // Try and cut some repaint time by using vanilla JS\n        var binsTableBody = document.getElementById('binsTableBody');\n        binsTableBody.innerHTML = appendString;\n    };\n\n    $('#reloadBins').on('click', function() {\n        $.display.page.bins.load();\n    });\n\n    $('#createBin').on('click', function() {\n        var bin_name = $('#bin_name').val();\n        var bin_notes = $('#bin_notes').val();\n\n        if (bin_name === '') Materialize.toast('Please enter a bin name', 4000);\n        else {\n            $('#modalCreateBin').closeModal();\n            $.etsyDB.bins.add(bin_name, bin_notes, null);\n            $('#bin_name').val('');\n            $('#bin_notes').val('');\n        }\n    });\n\n    $('body').on('click', '.btn-edit-bin', function() {\n        console.log($(this).attr('bin-id'));\n        console.log($(this).attr('bin-name'));\n    });\n\n    $('body').on('click', '.btn-print-bin', function() {\n        $('#previewTitle').html($(this).attr('bin-name'));\n        $('#previewImage').attr('src', $.display.getQRCode('Bin-ID:' + $(this).attr('bin-id'), 250));\n\n        $('#modalPrintBinLabel').openModal();\n    });\n\n    $('body').on('click', '.btn-remove-bin', function() {\n        $('.binDeleteName').html($(this).attr('bin-name'));\n        $('#binDeleteID').html($(this).attr('bin-id'));\n        $('.binDeleteTotal').html($(this).attr('bin-total'));\n        $('#modalDeleteBin').openModal();\n    });\n\n    $('#confirmDeleteBin').on('click', function() {\n        $('#modalDeleteBin').closeModal();\n        $.etsyDB.bins.delete(parseInt($('#binDeleteID').html()), $('.binDeleteName').html());\n    });\n\n    $('input[type=radio][name=label-size]').on('change', function() {\n        var id = $(this).attr('id');\n        if (id == 'custom') {\n            console.log('custom');\n            $('.input-label-size').fadeIn('slow');\n        } else {\n            $('.input-label-size').fadeOut('slow');\n            console.log('Standard size');\n        }\n    });\n\n    $('#printBin').on('click', function() {\n        $('#modalPrintBinLabel').closeModal();\n        var printWindow = window.open('', \"Test Window\", \"height=600,width=800\");\n        var windowContent = printWindow.document.body;\n        windowContent.title = 'Test';\n        $(windowContent).html($('#printPreview').html());\n        $(windowContent).find('#previewImage').css({\n            position: 'relative',\n            left: '50%',\n            transform: 'translateX(-50%)',\n            width: '50%' // Change this to the set width\n        });\n        $(windowContent).find('#previewTitle').css({\n            position: 'relative',\n            left: '50%',\n            transform: 'translateX(-50%)',\n            width: '50%', // Change this to the set width\n            textAlign: 'center',\n            top: '-1em',\n            fontSize: '2em',\n            fontWeight: 'bold',\n            wordWrap: 'break-word'\n        });\n        printWindow.print();\n    });\n});"],"sourceRoot":"/source/"}