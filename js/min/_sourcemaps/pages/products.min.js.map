{"version":3,"sources":["pages/products.js"],"names":["$","document","ready","display","page","products","load","toggleLoadingScreen","etsyDB","getAll","drawProducts","appendString","each","key","val","product","productTemplate","removeClass","product_url","find","attr","listing_id","title","html","bin_id","price","moment","created","format","original_creation","productTableBody","getElementById","innerHTML","clone","remove","on"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,WACdF,EAAEG,QAAQC,KAAKC,UACXC,KAAM,WACFN,EAAEG,QAAQI,oBAAoBP,EAAEQ,OAAOH,SAASI,OAAOT,EAAEG,QAAQC,KAAKC,SAASK,gBAGnFA,aAAc,SAASL,GACnB,GAAIM,GAAe,EAEnBX,GAAEY,KAAKP,EAAU,SAASQ,EAAKC,GAC3B,GAAIC,GAAUC,CACdD,GAAQE,YAAY,WAEpB,IAAIC,GAAcH,EAAQI,KAAK,eAC/BD,GAAYE,KAAK,OAAQ,+BAAiCN,EAAIO,YAC9DH,EAAYE,KAAK,QAASN,EAAIQ,OAC9BJ,EAAYK,KAAKT,EAAIQ,OAECP,EAAQI,KAAK,WAAWI,KAA5B,IAAdT,EAAIU,OAA2C,oCACjBV,EAAIU,QAEtCT,EAAQI,KAAK,UAAUI,KAAKT,EAAIW,OAChCV,EAAQI,KAAK,YAAYI,KAAKG,OAAOZ,EAAIa,SAASC,OAAO,kBACzDb,EAAQI,KAAK,qBAAqBI,KAAKG,OAAOZ,EAAIe,mBAAmBD,OAAO,kBAE5EjB,GAAiB,OAASI,EAAQQ,OAAS,SAI/C,IAAIO,GAAmB7B,SAAS8B,eAAe,mBAC/CD,GAAiBE,UAAYrB,GAIrC,IAAIK,GAAkBhB,EAAE,oBAAoBiC,OAC5CjC,GAAE,oBAAoBkC,SAGtBlC,EAAE,mBAAmBmC,GAAG,QAAS,WAC7BnC,EAAEG,QAAQC,KAAKC,SAASC","file":"pages/products.min.js","sourcesContent":["$(document).ready(function() {\n    $.display.page.products = {\n        load: function() {\n            $.display.toggleLoadingScreen($.etsyDB.products.getAll($.display.page.products.drawProducts));\n        },\n\n        drawProducts: function(products) {\n            var appendString = '';\n\n            $.each(products, function(key, val) {\n                var product = productTemplate;\n                product.removeClass('template');\n\n                var product_url = product.find('.listing-url');\n                product_url.attr('href', 'http://www.etsy.com/listing/' + val.listing_id);\n                product_url.attr('title', val.title);\n                product_url.html(val.title);\n\n                if (val.bin_id == -1) product.find('.bin-id').html('<i class=\"mdi-content-clear\"></i>');\n                else product.find('.bin-id').html(val.bin_id);\n\n                product.find('.price').html(val.price);\n                product.find('.created').html(moment(val.created).format('MMM D, h:mm a'));\n                product.find('.original-created').html(moment(val.original_creation).format('MMM D, h:mm a'));\n\n                appendString += ('<tr>' + product.html() + '</tr>');\n            });\n\n            // Try and cut some repaint time by using vanilla JS\n            var productTableBody = document.getElementById('productTableBody');\n            productTableBody.innerHTML = appendString;\n        }\n    };\n\n    var productTemplate = $('#productTemplate').clone();\n    $('#productTemplate').remove();\n\n\n    $('#reloadProducts').on('click', function() {\n        $.display.page.products.load();\n    });\n});"],"sourceRoot":"/source/"}