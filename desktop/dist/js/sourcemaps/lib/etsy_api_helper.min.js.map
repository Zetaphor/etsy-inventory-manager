{"version":3,"sources":["lib/etsy_api_helper.js"],"names":["$","document","ready","etsyAPIHelper","getRecentListings","display","toastInfo","etsyAPI","getListings","updateRecentListings","recentResultsLimit","show","getAllListings","updateAllListings","resultLimit","listings","each","results","index","listing","etsyDB","products","add","updateCounts","updateLastUpdateText","toastSuccess","hide","pagination","next_offset"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,WACdF,EAAEG,eACEC,kBAAmB,WACfJ,EAAEK,QAAQC,UAAU,iCACpBN,EAAEO,QAAQC,YAAYR,EAAEG,cAAcM,qBAAsB,EAAGT,EAAEO,QAAQG,oBACzEV,EAAE,aAAaW,QAGnBC,eAAgB,WACZZ,EAAEK,QAAQC,UAAU,8BACpBN,EAAEO,QAAQC,YAAYR,EAAEG,cAAcU,kBAAmB,EAAGb,EAAEO,QAAQO,aACtEd,EAAE,aAAaW,QAGnBF,qBAAsB,SAASM,GAC3Bf,EAAEgB,KAAKD,EAASE,QAAS,SAASC,EAAOC,GACrCnB,EAAEoB,OAAOC,SAASC,IAAIH,KAG1BnB,EAAEK,QAAQkB,eACVvB,EAAEK,QAAQmB,uBACVxB,EAAEK,QAAQoB,aAAa,wCACvBzB,EAAE,aAAa0B,QAGnBb,kBAAmB,SAASE,GACxBf,EAAEgB,KAAKD,EAASE,QAAS,SAASC,EAAOC,GACrCnB,EAAEoB,OAAOC,SAASC,IAAIH,KAGc,OAApCJ,EAASY,WAAWC,YACpB5B,EAAEO,QAAQC,YAAYR,EAAEG,cAAcU,kBAAmBE,EAASY,WAAWC,YAAa5B,EAAEO,QAAQO,cAGpGd,EAAEK,QAAQkB,eACVvB,EAAEK,QAAQmB,uBACVxB,EAAEK,QAAQoB,aAAa,oCACvBzB,EAAE,aAAa0B","file":"lib/etsy_api_helper.min.js","sourcesContent":["$(document).ready(function() {\n    $.etsyAPIHelper = {\n        getRecentListings: function() {\n            $.display.toastInfo('Refreshing recent listings...');\n            $.etsyAPI.getListings($.etsyAPIHelper.updateRecentListings, 0, $.etsyAPI.recentResultsLimit);\n            $('#syncIcon').show();\n        },\n\n        getAllListings: function() {\n            $.display.toastInfo('Refreshing all listings...');\n            $.etsyAPI.getListings($.etsyAPIHelper.updateAllListings, 0, $.etsyAPI.resultLimit);\n            $('#syncIcon').show();\n        },\n\n        updateRecentListings: function(listings) {\n            $.each(listings.results, function(index, listing) {\n                $.etsyDB.products.add(listing);\n            });\n            //console.log('Updated recent listings');\n            $.display.updateCounts();\n            $.display.updateLastUpdateText();\n            $.display.toastSuccess('Successfully updated recent listings');\n            $('#syncIcon').hide();\n        },\n\n        updateAllListings: function(listings) {\n            $.each(listings.results, function(index, listing) {\n                $.etsyDB.products.add(listing);\n            });\n\n            if (listings.pagination.next_offset !== null) {\n                $.etsyAPI.getListings($.etsyAPIHelper.updateAllListings, listings.pagination.next_offset, $.etsyAPI.resultLimit);\n            } else {\n                //console.log('Updated all listings');\n                $.display.updateCounts();\n                $.display.updateLastUpdateText();\n                $.display.toastSuccess('Succesfully updated all listings');\n                $('#syncIcon').hide();\n            }\n        }\n    };\n});"],"sourceRoot":"/source/"}