$(document).ready(function(){$.display.page.bins={load:function(){$.display.toggleLoadingScreen($.etsyDB.bins.getAll($.display.page.bins.drawBins))},drawBins:function(i,n){n="undefined"!=typeof n?n:!1;var e="";if($.each(i,function(i,n){var a=t;a.removeClass("template"),a.find(".bin-id").html(n.id),a.find(".bin-name").html(n.name),a.find(".bin-total").html(n.total),a.find(".bin-notes").html(n.notes).attr("title",n.notes);var l=a.find(".bin-actions");l.find(".btn-floating").attr({"bin-id":n.id.toString(),"bin-name":n.name,"bin-notes":n.notes,"bin-total":n.total}),e+='<tr id="bin-row-'+n.id.toString()+'">'+a.html()+"</tr>"}),n)$("#binsTableBody").append(e);else{var a=document.getElementById("binsTableBody");a.innerHTML=e}},updateBin:function(t){var i=$("#bin-row-"+t.id);i.find(".bin-name").html(t.name),i.find(".bin-notes").html(t.notes).attr("title",t.notes)},removeBin:function(t){$("#bin-row-"+t).fadeOut("slow",function(){$(this).remove()})},drawBinContents:function(t){var n="";$.each(t,function(t,e){var a=i;a.removeClass("template");var l=a.find(".listing-url");l.attr("href","http://www.etsy.com/listing/"+e.listing_id),l.attr("title",e.title),l.html(e.title),a.find(".price").html(e.price),a.find(".created").html(moment(e.created).format("MMM D, h:mm a")),a.find(".original-created").html(moment(e.original_creation).format("MMM D, h:mm a"));var o=a.find(".all-product-actions");o.find(".btn-floating").attr({"all-product-id":e.id.toString(),"all-product-title":e.title,"all-product-bin-id":e.bin_id}),n+='<tr id="bin-product-row-'+e.id+'">'+a.html()+"</tr>"});var e=document.getElementById("binProductTableBody");e.innerHTML=n,$("#modalViewBinContents").openModal()}};var t=$("#binTemplate").clone();$("#binTemplate").remove();var i=$("#binProductTemplate").clone();$("#binProductTemplate").remove(),$("#reloadBins").on("click",function(){$.display.page.bins.load()}),$("body").on("click",".btn-view-bin",function(){$("#viewBinProductsName").html($(this).attr("bin-name")),$.etsyDB.bins.getContents($(this).attr("bin-id"),$.display.page.bins.drawBinContents)}),$("#createBin").on("click",function(){var t=$("#binCreateName").val(),i=$("#binCreateNotes").val();""===t?$.display.toastInfo("Please enter a bin name"):($("#modalCreateBin").closeModal(),$.etsyDB.bins.add(t,i,$.display.page.bins.drawBins),$("#binCreateName").val(""),$("#binCreateNotes").val(""))}),$("body").on("click",".btn-edit-bin",function(){$("#binEditID").val($(this).attr("bin-id")),$("label[for='binEditID']").addClass("active"),$("#binEditName").val($(this).attr("bin-name")),$("label[for='binEditName']").addClass("active"),$("#binEditNotes").val($(this).attr("bin-notes")),$("label[for='binEditNotes']").addClass("active"),$("#modalEditBin").openModal()}),$("#editBin").on("click",function(){""===$("#binEditName").val()?$.display.toastError("Bin name cannot be empty!"):($.etsyDB.bins.update($("#binEditID").val(),$("#binEditName").val(),$("#binEditNotes").val(),$.display.page.bins.updateBin),$("#modalEditBin").closeModal())}),$("body").on("click",".btn-print-bin",function(){$("#previewTitle").html($(this).attr("bin-name")),$("#previewImage").attr("src",$.display.getQRCode("Bin-ID:"+$(this).attr("bin-id"),250)),$("#modalPrintBinLabel").openModal()}),$("body").on("click",".btn-remove-bin",function(){$(".binDeleteName").html($(this).attr("bin-name")),$("#binDeleteID").html($(this).attr("bin-id")),$(".binDeleteTotal").html($(this).attr("bin-total")),$("#modalDeleteBin").openModal()}),$("body").on("click","#confirmDeleteBin",function(){$("#modalDeleteBin").closeModal(),$.etsyDB.bins["delete"]($("#binDeleteID").html(),$(".binDeleteName").html(),$.display.page.bins.removeBin)}),$("input[type=radio][name=label-size]").on("change",function(){$("#labelImageSize").val($.display.labelSizes[$(this).attr("id")].image),$("#labelFontSize").val($.display.labelSizes[$(this).attr("id")].font)}),$("#printBin").on("click",function(){var t=$("#labelImageSize").val(),i=$("#labelFontSize").val(),n=window.open("","Test Window","height=600,width=800"),e=n.document.body;$("#modalPrintBinLabel").closeModal(),e.title="Test",$(e).html($("#printPreview").html()),$(e).find("#previewImage").attr("src",$.display.getQRCode("Bin-ID:"+$(this).attr("bin-id"),t)),$(e).find("#previewImage").css({position:"relative",left:"50%",transform:"translateX(-50%)",width:t+"px"}),$(e).find("#previewTitle").css({position:"relative",left:"50%",transform:"translateX(-50%)",width:t+"px",textAlign:"center",top:"-1em",fontSize:i+"px",fontWeight:"bold",wordWrap:"break-word"}),n.print()})});
//# sourceMappingURL=../sourcemaps/pages/bins.min.js.map